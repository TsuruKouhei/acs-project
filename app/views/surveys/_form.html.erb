<%= form_with(model: survey, html: { class: 'needs-validation', novalidate: true }) do |form| %>
  <% if survey.errors.any? %>
    <div id="error_explanation" class="alert alert-danger" role="alert">
      <h2>入力内容に誤りがあるため送信することが出来ませんでした。</h2>
      <ul>
        <% survey.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group col-md-15">
    <%= form.label :チャットボットへの質問内容, class: 'form-label' %>
    <%= form.text_area :title, class: 'form-control' %>
  </div>

  <div class="form-group col-md-7">
    <%= form.label :カテゴリー, class: 'form-label' %>
    <%= form.select :category_id, @categories, {}, { class: 'form-control' } %>
  </div>

  <div class="form-group col-md-7">
    <%= form.label :作物の種類, class: 'form-label' %>
    <%= form.select :crop_id, @crops, {}, { class: 'form-control' } %>
  </div>

  <div class="form-group form-check">
    <%= form.check_box :is_useful, class: 'form-check-input' %>
    <%= form.label :チャットボットの回答が役立った, class: 'form-check-label' %>
  </div>

  <div class="field form-check">
    <%= form.check_box :is_request, class: 'form-check-input' %>
    <%= form.label :コンサルタントに対応を依頼する。, class: 'form-check-label'  %>
  </div>
  <div id="consultant_message" style="display: none; color: green;">
    <p>今回のアンケート内容をコンサルタントへ送信します。</p>
    <p>送信するボタンをおして、返答をお待ちください。</p>
  </div>

  <div class="actions text-center">
    <%= form.submit "送信する", class: 'btn btn-primary' %>
  </div>
<% end %>
